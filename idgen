#!/usr/bin/env php

<?php

$cityNum = array(
    'A' => 10, // 台北市
    'B' => 11, // 台中市
    'C' => 12, // 基隆市
    'D' => 13, // 台南市
    'E' => 14, // 高雄市
    'F' => 15, // 台北縣
    'G' => 16, // 宜蘭縣
    'H' => 17, // 桃園縣
    'I' => 34, // 嘉義市
    'J' => 18, // 新竹縣
    'K' => 19, // 苗栗縣
    'L' => 20, // 台中縣
    'M' => 21, // 南投縣
    'N' => 22, // 彰化縣
    'O' => 35, // 新竹市
    'P' => 23, // 雲林縣
    'Q' => 24, // 嘉義縣
    'R' => 25, // 台南縣
    'S' => 26, // 高雄縣
    'T' => 27, // 屏東縣
    'U' => 28, // 花蓮縣
    'V' => 29, // 台東縣
    'W' => 32, // 金門縣
    'X' => 30, // 澎湖縣
    'Y' => 31, // 陽明山
    'Z' => 33  // 連江縣
);

$id = array();
$id[0] = chr(rand(65, 90));
$id[1] = 1;
for ($i = 2; $i <= 8; $i++) {
    $id[$i] = rand(0, 9);
}

$unit = $cityNum[$id[0]] % 10;
$tens = (int) ($cityNum[$id[0]] / 10);

$id[9] = 10 - (($tens + $unit * 9 + $id[1] * 8 + $id[2] * 7 + $id[3] * 6 + $id[4] * 5 + $id[5] * 4 + $id[6] * 3 + $id[7] * 2 + $id[8] * 1) % 10);

echo implode($id) . "\n";